(this["webpackJsonpreact-kanban-hooks"]=this["webpackJsonpreact-kanban-hooks"]||[]).push([[0],{10:function(e,t,n){e.exports={task:"Task_task__1IAtP",line:"Task_line__1Vjz-",header:"Task_header__6BdSV",right:"Task_right__3l3Gl",left:"Task_left__3dgkP"}},14:function(e,t,n){e.exports={auth:"Auth_auth__1gMqw",rightX:"Auth_rightX__1WgFo"}},15:function(e,t,n){e.exports={backdrop:"Modal_backdrop__3iXHD",modal:"Modal_modal__30MRu"}},26:function(e,t,n){e.exports={toolbar:"Toolbar_toolbar__3BG8J"}},27:function(e,t,n){e.exports={naviItem:"NaviItem_naviItem__1JpnJ"}},28:function(e,t,n){e.exports={input:"Input_input__HkNJD"}},29:function(e,t,n){e.exports={buttonCol:"Button_buttonCol__2B-wr",buttonGreen:"Button_buttonGreen__31YEf",buttonRed:"Button_buttonRed__2CAlo"}},37:function(e,t,n){},38:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(8),i=n.n(r),s=(n(37),n(2)),l=(n(38),n(26)),o=n.n(l),u=n(27),d=n.n(u),j=n(1),b=function(e){return Object(j.jsx)("div",{className:d.a.naviItem,onClick:e.click,children:Object(j.jsx)("p",{children:e.text})})},O=n(14),h=n.n(O),g=n(28),x=n.n(g),p=function(e){return Object(j.jsx)("input",{className:x.a.input,type:e.type,value:e.value,onChange:e.onChange,placeholder:e.placeholder})},f=n(29),m=n.n(f),k=function(e){return Object(j.jsx)("button",{className:m.a[e.classes],onClick:e.click,disabled:e.disabled,children:e.children})},_=c.a.createContext({isAuth:!1,userId:null,token:null,expirationDate:null}),v=n(30),y=n.n(v),C={token:null,userId:null,error:null,time:null,email:null,loading:!1},I=function(e,t){switch(t.type){case"SEND":return{token:null,userId:null,error:null,time:null,email:null,loading:!0};case"RESPONSE":return{token:t.token,userId:t.userId,error:null,time:t.time,email:t.email,loading:!1};case"ERROR":return{error:t.error,loading:!1};case"LOGOUT":return{token:null,userId:null,error:null,time:null,email:null,loading:!1}}},N=function(){var e=Object(a.useReducer)(I,C),t=Object(s.a)(e,2),n=t[0],c=t[1];return{sendAuth:function(e,t){c({type:"SEND"}),y.a.post(e,t).then((function(e){c({type:"RESPONSE",token:e.data.idToken,time:new Date((new Date).getTime()+1e3*e.data.expiresIn-2e3),email:e.data.email,userId:e.data.localId})})).catch((function(e){c({type:"ERROR",error:e.message})}))},error:n.error,token:n.token,time:n.time,email:n.email,userId:n.userId,loading:n.loading,logout:function(){c({type:"LOGOUT"}),console.log(n.userId)}}},S=function(e){var t=Object(a.useContext)(_),n=Object(a.useState)(""),r=Object(s.a)(n,2),i=r[0],l=r[1],o=Object(a.useState)(""),u=Object(s.a)(o,2),d=u[0],b=u[1],O=Object(a.useState)(""),g=Object(s.a)(O,2),x=g[0],f=g[1],m=Object(a.useState)(!1),v=Object(s.a)(m,2),y=(v[0],v[1]),C=N(),I=C.sendAuth,S=C.error,w=C.token,T=C.time,E=C.email,A=C.userId,R=C.loading;Object(a.useEffect)((function(){e.registration?y(d===x&&d.length>5&&""!==i):y(d.length>5&&""!==i)}),[d,x,i]),Object(a.useEffect)((function(){A&&D(A,w,T,E),console.log(A)}),[A,w,T,E]);var D=function(e,n,a,c){t.loginOn(e,n,a,c)},P=Object(j.jsx)("div",{className:h.a.auth,children:R?Object(j.jsx)("p",{children:"Oczekujemy na serwer!"}):Object(j.jsxs)(c.a.Fragment,{children:[Object(j.jsx)("span",{onClick:e.clickX,className:h.a.rightX,children:"\u2612"}),S&&Object(j.jsx)("p",{style:{color:"red"},children:"Podano B\u0142\u0119dne dane spr\xf3buj jeszcze raz."}),Object(j.jsx)("p",{children:"Login:"}),Object(j.jsx)(p,{value:i,onChange:function(e){return l(e.target.value)},type:"text"}),Object(j.jsx)("p",{children:"Has\u0142o:"}),Object(j.jsx)(p,{value:d,onChange:function(e){return b(e.target.value)},type:"password"}),e.registration&&Object(j.jsxs)(c.a.Fragment,{children:[Object(j.jsx)("p",{children:"Powt\xf3rz Has\u0142o:"}),Object(j.jsx)(p,{value:x,onChange:function(e){return f(e.target.value)},type:"password"}),d!==x&&Object(j.jsx)("p",{style:{color:"red"},children:"Has\u0142a nie s\u0105 identyczne"}),d.length<6&&Object(j.jsx)("p",{style:{color:"red"},children:"Minimum 6 znak\xf3w"})]}),Object(j.jsx)(k,{classes:"buttonGreen",click:function(){var t={email:i,password:d,returnSecureToken:!0};if(e.registration){I("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCE9iNHzKkGA9SWX9TD4JvTXBEtyCxovdA",t)}else{I("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCE9iNHzKkGA9SWX9TD4JvTXBEtyCxovdA",t)}},children:e.registration?"Zarejestruj":"Zaloguj"})]})});return t.userId&&(P=null),P},w=function(){var e=Object(a.useContext)(_),t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1],l=Object(a.useState)(!1),u=Object(s.a)(l,2),d=u[0],O=u[1];return Object(j.jsxs)("div",{className:o.a.toolbar,children:[e.isAuth?Object(j.jsx)(c.a.Fragment,{children:Object(j.jsx)(b,{text:"Wyloguj",click:function(){e.loginOff()}})}):Object(j.jsxs)(c.a.Fragment,{children:[Object(j.jsx)(b,{text:"Zaloguj",click:function(){i(!1),O(!0)}}),Object(j.jsx)(b,{text:"Zarejestruj",click:function(){i(!0),O(!0)}})]}),d&&Object(j.jsx)(S,{registration:r,clickX:function(){return O(!1)}})]})},T=n(4),E=n(3),A=n(9),R=n.n(A),D=n(7),P=n.n(D),z=n(6),B=n(10),G=n.n(B),H=n(15),L=n.n(H),X=function(e){return Object(j.jsx)("div",{className:L.a.backdrop,children:Object(j.jsxs)("div",{className:L.a.modal,children:[Object(j.jsxs)("h1",{children:[e.alert,"?"]}),Object(j.jsx)(k,{classes:e.clLeft,click:e.ok,children:e.left}),Object(j.jsx)(k,{classes:e.clRight,click:e.cancel,children:e.right})]})})},J=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),l=Object(s.a)(i,2),o=l[0],u=l[1];return Object(j.jsx)(z.b,{draggableId:e.identyTask,index:e.index,children:function(t,n){return Object(j.jsxs)("div",Object(T.a)(Object(T.a)({className:G.a.task},t.draggableProps),{},{ref:t.innerRef,style:Object(T.a)(Object(T.a)({},t.draggableProps.style),{},{userSelect:"none",backgroundColor:n.isDragging?"white":"lightblue"}),children:[Object(j.jsxs)("header",{className:G.a.header,children:[Object(j.jsx)("span",Object(T.a)(Object(T.a)({className:G.a.left},t.dragHandleProps),{},{children:"\u2630"})),Object(j.jsx)("span",{onClick:function(){return u(!0)},className:G.a.right,children:"\u2612"})]}),Object(j.jsx)("input",{type:"checkbox",checked:c,onChange:function(e){r(e.target.checked)}}),Object(j.jsx)("p",{className:c?G.a.line:null,children:e.name}),o&&Object(j.jsx)(X,{alert:"Usun\u0105\u0107 Zadanie ".concat(e.name,"?"),ok:function(){return e.removeTask(e.identyList,e.identyTask)},cancel:function(){return u(!1)},left:"Usu\u0144",clLeft:"buttonRed",right:"Anuluj",clRight:"buttonGreen"})]}))}},e.identyTask)},K=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),l=Object(s.a)(i,2),o=l[0],u=l[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("header",{className:P.a.header,children:[Object(j.jsx)("span",Object(T.a)(Object(T.a)({className:P.a.left},e.dragHandleProps),{},{children:"\u2630"})),Object(j.jsx)("span",{onClick:function(){return u(!0)},className:P.a.right,children:"\u2612"}),Object(j.jsx)("p",{className:P.a.label,children:e.name})]}),Object(j.jsx)(z.c,{droppableId:e.identy,type:"task",children:function(t,n){return Object(j.jsxs)("div",Object(T.a)(Object(T.a)({className:P.a.drop},t.droppableProps),{},{ref:t.innerRef,style:{backgroundColor:n.isDraggingOver?"lightgrey":"white"},children:[e.tasks.map((function(t,n){return Object(j.jsx)(J,{name:t.name,identyList:e.identy,identyTask:t.id,removeTask:e.removeTask,index:n},t.id)})),t.placeholder]}))}},e.identy),Object(j.jsx)("div",{className:P.a.flexGrow,children:Object(j.jsxs)("div",{className:P.a.adding,children:[Object(j.jsx)(p,{type:"text",value:c,onChange:function(e){return r(e.target.value)},placeholder:"nazwa zadania"}),Object(j.jsx)(k,{click:function(){e.addTask(e.identy,c),r("")},classes:"buttonCol",disabled:""===c,children:"Dodaj Zadanie"})]})}),o&&Object(j.jsx)(X,{alert:"Usun\u0105\u0107 Liste ".concat(e.name,"?"),ok:function(){return e.removeColumn(e.identy)},cancel:function(){return u(!1)},left:"Usu\u0144",clLeft:"buttonRed",right:"Anuluj",clRight:"buttonGreen"})]})},U=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],i=n[1];return Object(j.jsxs)(c.a.Fragment,{children:[Object(j.jsx)(p,{type:"text",value:r,onChange:function(e){return i(e.target.value)},placeholder:"nazwa kolumny"}),Object(j.jsx)(k,{click:function(){e.add(r),i("")},classes:"buttonCol",disabled:""===r,children:"Dodaj Kolumne"})]})},F=function(){var e=Object(a.useContext)(_),t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1],i=function(e){var t=Object(E.a)(c);t.push({name:e,id:e+(new Date).getTime(),order:t.length,tasks:[]}),r(Object(E.a)(t))},l=function(e){var t=Object(E.a)(c),n=c.findIndex((function(t){return e===t.id}));t.splice(n,1),r(Object(E.a)(t))},o=function(e,t){var n=c.findIndex((function(t){return e===t.id})),a=Object(E.a)(c);a[n].tasks.push({name:t,id:t+(new Date).getTime(),order:a[n].tasks.length}),r(Object(E.a)(a))},u=function(e,t){var n=c.findIndex((function(t){return e===t.id})),a=Object(E.a)(c),i=a[n].tasks.findIndex((function(e){return t===e.id}));a[n].tasks.splice(i,1),r(Object(E.a)(a))};return Object(j.jsx)("div",{className:R.a.mainBox,children:e.isAuth&&Object(j.jsx)(z.a,{onDragEnd:function(e){return function(e,t,n){var a=e.source,c=e.destination,r=e.type;if(console.log(e),c){if("task"!==r){console.log(e);var i=Object(E.a)(t),l=i.splice(a.index,1),o=Object(s.a)(l,1)[0];return i.splice(c.index,0,o),void n(Object(E.a)(i))}if(a.droppableId===c.droppableId){var u=t.findIndex((function(e){return e.id===a.droppableId})),d=Object(E.a)(t),j=Object(E.a)(d[u].tasks),b=j.splice(a.index,1),O=Object(s.a)(b,1)[0];j.splice(c.index,0,O),d[u].tasks=Object(E.a)(j),n(Object(E.a)(d))}else{var h=t.findIndex((function(e){return e.id===a.droppableId})),g=t.findIndex((function(e){return e.id===c.droppableId})),x=Object(E.a)(t),p=Object(E.a)(x[h].tasks),f=Object(E.a)(x[g].tasks),m=p.splice(a.index,1),k=Object(s.a)(m,1)[0];f.splice(c.index,0,k),x[h].tasks=Object(E.a)(p),x[g].tasks=Object(E.a)(f),n(Object(E.a)(x))}}}(e,c,r)},children:Object(j.jsx)(z.c,{droppableId:"main",type:"column",direction:"horizontal",children:function(e,t){return Object(j.jsxs)("div",Object(T.a)(Object(T.a)({className:R.a.kanban},e.droppableProps),{},{ref:e.innerRef,style:{backgroundColor:(t.isDraggingOver,"white")},children:[c.map((function(e,t){return Object(j.jsx)(z.b,{draggableId:e.id,index:t,children:function(t,n){return Object(j.jsx)("div",Object(T.a)(Object(T.a)({className:R.a.column},t.draggableProps),{},{ref:t.innerRef,style:Object(T.a)(Object(T.a)({},t.draggableProps.style),{},{userSelect:"none",backgroundColor:(n.isDragging,"white")}),children:Object(j.jsx)(K,{dragHandleProps:t.dragHandleProps,identy:e.id,name:e.name,tasks:e.tasks,addTask:o,removeTask:u,removeColumn:l},e.id)}))}},e.id)})),e.placeholder,Object(j.jsx)("div",{className:R.a.columnAdd,children:Object(j.jsx)("div",{className:R.a.itemNew,children:Object(j.jsx)(U,{add:i})})})]}))}})})})};var M=function(){var e=N().logout,t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(null),l=Object(s.a)(i,2),o=l[0],u=l[1],d=Object(a.useState)(null),b=Object(s.a)(d,2),O=b[0],h=b[1],g=Object(a.useState)(null),x=Object(s.a)(g,2),p=x[0],f=x[1],m=Object(a.useState)(null),k=Object(s.a)(m,2),v=k[0],y=k[1];return Object(j.jsx)(_.Provider,{value:{isAuth:c,userId:o,token:O,expirationDate:p,email:v,loginOn:function(e,t,n,a){r(!0),u(e),h(t),f(n),y(a)},loginOff:function(){r(!1),u(null),h(null),f(null),y(null),e()}},children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(w,{}),Object(j.jsx)(F,{})]})})};i.a.render(Object(j.jsx)(M,{}),document.getElementById("root"))},7:function(e,t,n){e.exports={label:"ExistingColumn_label__3Jyut",header:"ExistingColumn_header__2Qcb7",right:"ExistingColumn_right__PwONT",left:"ExistingColumn_left__wE5Pr",flexGrow:"ExistingColumn_flexGrow__1u7kE",adding:"ExistingColumn_adding__QEQ_s",drop:"ExistingColumn_drop__27Q69"}},9:function(e,t,n){e.exports={mainBox:"Kanban_mainBox__BCgyx",kanban:"Kanban_kanban__2WLUc",column:"Kanban_column__2Cq7V",columnAdd:"Kanban_columnAdd__eQ6MC",itemNew:"Kanban_itemNew__2BkD7"}}},[[66,1,2]]]);
//# sourceMappingURL=main.1796d5e3.chunk.js.map